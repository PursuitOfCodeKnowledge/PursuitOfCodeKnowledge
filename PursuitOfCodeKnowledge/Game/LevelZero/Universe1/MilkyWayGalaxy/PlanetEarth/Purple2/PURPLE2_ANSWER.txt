Чтобы выполнить задание:
Первое нужно посмотреть где ты находишься, используй команду pwd:
pwd
К примеру она тебе покажет путь /home/sergey/Desktop/PursuitOfCodeKnowledge.git/PursuitOfCodeKnowledge/Game/LevelZero/Universe1/MilkyWayGalaxy/PlanetEarth/Purple2, получается ты сейчас находишься в Purple2, 
тебе нужно вернуться назад используй команду cd ..:
cd ..
После этого набери команду ls или ls -a и посмотри что находится вокруг тебя какие файлы и директории:
ls
или
ls -a
Затем набери команду mkdir чтобы создать директорию Purple (в том случае если ещё не создавал директорию Purple):
mkdir Purple
Затем перейди директорию в Purple2:
cd Purple2
Потом скопируй файл PURPLE2.txt в директорию Purple:
cp PURPLE2.txt ../Purple/
Затем проверь что скопировал файл PURPLE2.txt в директорию Purple при помощи команды ls:
ls ../Purple/PURPLE2.txt
После перенеси  файл файл PURPLE2_ANSWER.txt в директорию Purple:
mv PURPLE2_ANSWER.txt ../Purple/
Потом удали файл PURPLE2.txt при помощи команды rm:
rm PURPLE2.txt
или
rm -i PURPLE2.txt
или
rm -f PURPLE2.txt
После выйди из этой директории Purple2:
cd ..
Затем удали директорию Purple2:
rm -r Purple2
После убедись что удалил директорию:
ls 
или
ls -a

Если исследовал уже директорию Purple1, то подключаемся к postgres: 
sudo -u postgres psql postgres
Вводим пароль от пользователя postgres, который мы создавали до этого

Теперь посмотрим какие базы данных при помощи команды \l:
\l

Видим demo и переходим в неё при помощи команды \c:
\c demo

Потом можно посмотреть какие таблицы в базе данных demo:
\dt

Затем можно посмотреть подробнее о таблице, например bookings(столбцы и ключи):
\d bookings

Потом можно посмотреть подробнее о таблице, например tickets(столбцы и ключи):
\d tickets

Потом можно посмотреть подробнее о таблице, например ticket_flights(столбцы и ключи):
\d ticket_flights

Потом можно посмотреть подробнее о таблице, например flights(столбцы и ключи):
\d flights

Пример 1: 
EXPLAIN SELECT *
FROM bookings
WHERE total_amount > 100000;

Пример 2: 
EXPLAIN ANALYZE SELECT *
FROM bookings
WHERE total_amount > 100000;

Пример 3: 
EXPLAIN ANALYZE
SELECT *
FROM tickets
WHERE ticket_no = '0005432000284';

Пример 4: 
EXPLAIN ANALYZE
SELECT t.ticket_no, t.passenger_name, b.total_amount
FROM tickets t
JOIN bookings b ON t.book_ref = b.book_ref
WHERE b.total_amount > 200000;

Пример 5: 
EXPLAIN ANALYZE
SELECT flight_id, SUM(amount) AS revenue
FROM ticket_flights
GROUP BY flight_id;

Пример 6: 
EXPLAIN ANALYZE
SELECT flight_no, scheduled_departure, scheduled_arrival
FROM flights
WHERE departure_airport = 'DME'
  AND scheduled_departure::date = '2017-09-04';

Пример 7: 
EXPLAIN ANALYZE
SELECT fare_conditions, AVG(amount)
FROM ticket_flights
GROUP BY fare_conditions;

Пример 8: 
EXPLAIN        
SELECT fare_conditions, AVG(amount)
FROM ticket_flights
GROUP BY fare_conditions;

Пример 9: 
EXPLAIN (ANALYZE, BUFFERS)
WITH ranked_bookings AS (
    SELECT
        DATE_TRUNC('month', book_date) AS month,
        book_ref,
        total_amount,
        ROW_NUMBER() OVER (
            PARTITION BY DATE_TRUNC('month', book_date)
            ORDER BY total_amount DESC
        ) AS rn
    FROM bookings
)
SELECT month, book_ref, total_amount
FROM ranked_bookings
WHERE rn <= 3;

Пример 10: 
EXPLAIN (ANALYZE, BUFFERS)
SELECT
    flight_id,
    flight_no,
    EXTRACT(EPOCH FROM (actual_departure - scheduled_departure))/60 AS delay_minutes,
    RANK() OVER (ORDER BY (actual_departure - scheduled_departure) DESC) AS delay_rank
FROM flights
WHERE actual_departure IS NOT NULL;

После этого выходим из базы данных demo:
\q

Потом дальше иследуй другую директорию, например Purple3:
cd Purple3

To complete the task:
First you need to see where you are, use the pwd command:
pwd
For example, she'll show you the way  /home/sergey/Desktop/PursuitOfCodeKnowledge.git/PursuitOfCodeKnowledge/Game/LevelZero/Universe1/MilkyWayGalaxy/PlanetEarth/Purple2
 it turns out that you are currently in Purple2,
you need to go back using the cd .. :
cd ..
After that, type the command ls or ls -a and see what is around you, which files and directories:
ls
or
ls -a
Then type the mkdir command to create
the Purple directory(if you didn't create Purple directory):
mkdir Purple
Then go to the directory in Purple2:
cd Purple2
Then  copy the file PURPLE2.txt to the Purple:
cp PURPLE2.txt ../Purple/
Then check that you copied the file. PURPLE2.txt to the Purple directory using the command ls:
ls ../Purple/PURPLE2.txt
Then transfer the file PURPLE2_ANSWER.txt to the Purple:
mv PURPLE2_ANSWER.txt ../Purple/
Then delete the file PURPLE2.txt using the rm command:
rm PURPLE2.txt
or
rm -i PURPLE2.txt
or
rm -f PURPLE2.txt
Then exit this directory Purple2:
cd ..
Then delete the Purple2 directory:
rm -r Purple2
After that, make sure that you have deleted the directory:
ls
or
ls -a

If you have already explored the Purple1 directory, then we connect to postgres:
sudo -u postgres psql postgres
We enter the password from the postgres user that we created before

Now let's look at which databases using the \l command:
\l

We see the demo and go to it using the \c command:
\c demo

Then you can see which tables are in the demo database.:
\dt

Then you can view more information about the table, for example bookings(columns and keys):
\d bookings

Then you can see more details about the table, for example tickets(columns and keys):
\d tickets

Then you can see more details about the table, for example ticket_flights(columns and keys):
\d ticket_flights

Then you can see more details about the table, for example flights(columns and keys):
\d flights

Пример 1: 
EXPLAIN SELECT *
FROM bookings
WHERE total_amount > 100000;

Пример 2: 
EXPLAIN ANALYZE SELECT *
FROM bookings
WHERE total_amount > 100000;

Пример 3: 
EXPLAIN ANALYZE
SELECT *
FROM tickets
WHERE ticket_no = '0005432000284';

Пример 4: 
EXPLAIN ANALYZE
SELECT t.ticket_no, t.passenger_name, b.total_amount
FROM tickets t
JOIN bookings b ON t.book_ref = b.book_ref
WHERE b.total_amount > 200000;

Пример 5: 
EXPLAIN ANALYZE
SELECT flight_id, SUM(amount) AS revenue
FROM ticket_flights
GROUP BY flight_id;

Пример 6: 
EXPLAIN ANALYZE
SELECT flight_no, scheduled_departure, scheduled_arrival
FROM flights
WHERE departure_airport = 'DME'
  AND scheduled_departure::date = '2017-09-04';

Пример 7: 
EXPLAIN ANALYZE
SELECT fare_conditions, AVG(amount)
FROM ticket_flights
GROUP BY fare_conditions;

Пример 8: 
EXPLAIN        
SELECT fare_conditions, AVG(amount)
FROM ticket_flights
GROUP BY fare_conditions;

Пример 9: 
EXPLAIN (ANALYZE, BUFFERS)
WITH ranked_bookings AS (
    SELECT
        DATE_TRUNC('month', book_date) AS month,
        book_ref,
        total_amount,
        ROW_NUMBER() OVER (
            PARTITION BY DATE_TRUNC('month', book_date)
            ORDER BY total_amount DESC
        ) AS rn
    FROM bookings
)
SELECT month, book_ref, total_amount
FROM ranked_bookings
WHERE rn <= 3;

Пример 10: 
EXPLAIN (ANALYZE, BUFFERS)
SELECT
    flight_id,
    flight_no,
    EXTRACT(EPOCH FROM (actual_departure - scheduled_departure))/60 AS delay_minutes,
    RANK() OVER (ORDER BY (actual_departure - scheduled_departure) DESC) AS delay_rank
FROM flights
WHERE actual_departure IS NOT NULL;

After that, we exit the demo database.:
\q

Then follow another directory, for example Purple3:
cd Purple3
